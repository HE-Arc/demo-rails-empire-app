<h1>Troopers</h1>

<%= link_to 'Register new trooper', new_trooper_path, :class => "btn btn-primary btn-sm" %>

<hr>
<% if @troopers.empty? %>
    <p>No trooper for now</p>
<% else %>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>#</th>
                <th>Name</th>
                <th>Type</th>
                <th>Age</th>
                <th>Strength</th>
                <th>&nbsp;</th>
            </tr>
        </thead>
        <tbody>
            <% @troopers.each do |trooper| %>
                <tr <%= (!trooper.alive) ? 'class=trooper-dead': "" %>>
                    <th scope="row"><%= trooper.id %></th>
                    <td><%= trooper.name %></td>
                    <td><span class="badge badge-primary"><%= trooper.category.name %></span></td>
                    <td><%= trooper.age %></td>
                    <td><%= trooper.strength %></td>
                    <th class="text-right">
                        <% if trooper.alive %>
                            <%= link_to "Dead on the field", kill_trooper_path(trooper), method: :patch, :class => "btn btn-danger btn-sm" %>
                        <% end %>
                        <%= link_to 'Details', trooper_path(trooper), :class => "btn btn-primary btn-sm" %>
                    </th>
                </tr>
            <% end %>
        </tbody>
    </table>
<% end %>

